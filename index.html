<!DOCTYPE html>
<html lang="en">
<head>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2160153884291094"
    crossorigin="anonymous"></script>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Puppy Age Match</title>
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üê∂</text></svg>">
  <style>
    body {
      font-family: 'Arial', sans-serif;
      background-color: #fef8ef;
      color: #333;
      margin: 0;
      padding: 0;
      height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
    }
    .container, .result-screen {
      display: none;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100%;
      width: 100%;
      position: relative;
    }
    .active {
      display: flex;
    }
    h1 {
      margin-bottom: 20px;
      text-align: center;
      width: 100%;
      display: flex;
      justify-content: center;
    }
    label {
      display: block;
      margin-top: 10px;
    }
    input[type="date"], input[type="text"] {
      padding: 8px;
      margin: 5px 0;
      border-radius: 5px;
      border: 1px solid #ccc;
    }
    button {
      margin-top: 15px;
      padding: 10px 20px;
      border: none;
      border-radius: 8px;
      background-color: #ffa94d;
      color: white;
      font-size: 16px;
      cursor: pointer;
    }
    button:hover {
      background-color: #ff922b;
    }
    .big-result {
      text-align: center;
      padding: 20px;
      opacity: 0;
      transition: opacity 1.5s ease-in;
      max-width: 90%;
    }
    .big-result.visible {
      opacity: 1;
    }
    .result-text {
      font-size: 22px;
    }
    .result-date {
      font-size: 48px;
      font-weight: bold;
      margin-top: 10px;
    }
    .error-message {
      color: red;
      font-weight: bold;
      margin-top: 15px;
    }
    .top-left-button {
      position: absolute;
      top: 20px;
      left: 20px;
      padding: 8px 16px;
      font-size: 14px;
      background-color: #ccc;
      color: #000;
      border-radius: 6px;
      border: none;
      cursor: pointer;
    }
    .top-left-button:hover {
      background-color: #bbb;
    }
    canvas {
      position: fixed;
      top: 0;
      left: 0;
      pointer-events: none;
      z-index: 999;
    }
  </style>
</head>
<body>
  <div class="container active" id="inputScreen">
    <h1>üê∂ Puppy Age Match Calculator</h1>
    <label for="humanBirthday">Your Birthday:</label>
    <input type="date" id="humanBirthday" />

    <label for="dogBirthday">Your Dog's Birthday:</label>
    <input type="date" id="dogBirthday" />

    <button onclick="calculateSameAgeDay()">Find Our Same Age Day</button>
    <p style="margin-top: 10px; font-size: 14px; color: #555;">(Assuming 1 dog year = 7 human years)</p>
    <div id="error" class="error-message"></div>
  </div>

  <div class="result-screen" id="resultScreen">
    <button class="top-left-button" onclick="goBack()">‚Üê Try Another</button>
    <div class="big-result" id="result"></div>
    <div style="margin-top: 40px; display: flex; align-items: center; gap: 10px;">
      <label for="dogName" style="font-size: 14px;">Your Dog's Name:</label>
      <input type="text" id="dogName" style="font-size: 12px; padding: 4px; width: 150px;; transition: opacity 0.4s ease;" autocomplete="off" autocorrect="off" autocapitalize="off" />
      <button id="shareButton" style="font-size: 12px; padding: 6px 12px; display: none;">Share</button>
    </div>
  </div>
<canvas id="confettiCanvas"></canvas>

  <script>
    let confetti = [];
    const canvas = document.getElementById('confettiCanvas');
    const ctx = canvas.getContext('2d');

    function calculateSameAgeDay() {
      const humanInput = document.getElementById('humanBirthday');
      const dogInput = document.getElementById('dogBirthday');
      const errorEl = document.getElementById('error');
      const humanDate = new Date(humanInput.value);
      const dogDate = new Date(dogInput.value);

      errorEl.textContent = '';

      if (isNaN(humanDate) || isNaN(dogDate)) {
        errorEl.textContent = 'Please enter both birthdays!';
        return;
      } // keep function open
      const xTime = humanDate.getTime();
      const yTime = dogDate.getTime();
      const tTime = xTime + (7 / 6) * (yTime - xTime);
      const testDate = new Date(tTime);

      const options = { year: 'numeric', month: 'long', day: 'numeric' };
      const dateText = testDate.toLocaleDateString(undefined, options);

      const humanYears = (testDate - humanDate) / (1000 * 60 * 60 * 24 * 365.25);
      const years = Math.floor(humanYears);
      const days = Math.floor((humanYears - years) * 365.25);
      const ageDetails = `You and your puppy will be ${years} years and ${days} days old.`;

      const resultEl = document.getElementById('result');
      resultEl.innerHTML = `
        <div class="result-text">üéâ You and your dog will be the same age on...</div>
        <div class="result-date" style="font-weight: 800;">${dateText}</div>
        <div class="result-text" style="margin-top: 30px; font-size: 16px;">${ageDetails}</div>
      `;
      resultEl.classList.remove('visible');

      document.getElementById('inputScreen').classList.remove('active');
      document.getElementById('resultScreen').classList.add('active');
      

      setTimeout(() => {
        resultEl.classList.add('visible');
      }, 300);

      

      const shareButton = document.getElementById('shareButton');
      if (navigator.share) {
        shareButton.style.display = 'block';
        shareButton.onclick = () => {
                    const dogName = document.getElementById('dogName').value.trim();
          if (!dogName) {
            alert('Please enter your dog\'s name before sharing!');
            return;
          }
          const shareText = `${dogName} and I will both be ${years} years and ${days} days old on ${dateText}!

Calculated with PuppyAgeMatch üê∂`;
          navigator.share({
            title: 'Puppy Age Match üéâ',
            text: shareText,
            url: window.location.href
          });
        };
      } else {
        shareButton.style.display = 'none';
      }

      launchConfetti();
    }

    function goBack() {
      document.getElementById('resultScreen').classList.remove('active');
      document.getElementById('inputScreen').classList.add('active');
      document.getElementById('result').classList.remove('visible');
      document.getElementById('error').textContent = '';
      document.getElementById('shareButton').style.display = 'none';
      clearCanvas();
    }

    function launchConfetti() {
      resizeCanvas();
      confetti = Array.from({ length: 150 }, () => ({
        x: Math.random() * canvas.width,
        y: Math.random() * canvas.height - canvas.height,
        r: Math.random() * 6 + 4,
        d: Math.random() * 10 + 5,
        color: `hsl(${Math.random() * 360}, 100%, 70%)`,
        tilt: Math.random() * 10 - 10,
        tiltAngle: 0,
      }));
      animateConfetti();
    }

    function animateConfetti() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      confetti.forEach(c => {
        c.y += c.d * 0.5;
        c.tiltAngle += 0.05;
        ctx.beginPath();
        ctx.lineWidth = c.r / 2;
        ctx.strokeStyle = c.color;
        ctx.moveTo(c.x + c.tilt, c.y);
        ctx.lineTo(c.x + c.tilt + c.r, c.y + c.r);
        ctx.stroke();
      });
      requestAnimationFrame(animateConfetti);
    }

    function clearCanvas() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      confetti = [];
    }

    function resizeCanvas() {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
    }

    window.addEventListener('resize', resizeCanvas);
  </script>
<p style="font-size: 14px; color: #666; margin-top: 40px; text-align: center;">
  Created by Matthew ‚Äì for Stiorra üê∂<br>
</p>
</html>
